# 我的阳台花园 - 第二版本

## 版本更新内容

### 1. 模型管理功能
- 新增设置页面，支持模型选择
- 支持百度AI植物识别和通义千问VL两种模型
- 可测试模型连接状态

### 2. 通义千问VL模型集成
- 集成qwen-vl-max多模态大模型
- 提供更详细的植物识别和养护建议
- 支持地理位置信息，提供个性化养护建议
- 包含以下信息：
  - 植物名称和学名
  - 浇水tips
  - 光照tips
  - 健康状态分析
  - 综合养护建议
  - 有趣的小知识

### 3. 健康分析功能
- 使用qwen-vl模型分析植物健康状态
- 拍照时自动进行健康分析
- 保存健康分析历史记录
- 可查看历史健康分析结果

### 4. 存储限制管理
- 可设置每株植物最多保存的照片数量
- 可设置浇水/施肥记录的最大条数
- 自动清理超出限制的旧记录

### 5. 位置服务
- 支持获取用户地理位置
- 结合位置信息提供更准确的养护建议
- 位置权限管理

## 技术实现

### 新增文件
- `pages/settings/` - 设置页面
- `utils/model_utils.js` - 模型管理工具类

### 主要功能
1. **模型切换**: 在设置中选择使用百度AI或通义千问VL
2. **智能识别**: 根据选择的模型进行植物识别
3. **健康分析**: 使用qwen-vl模型分析植物健康状态
4. **存储管理**: 自动管理照片和记录数量
5. **位置服务**: 获取地理位置提供个性化建议

### API配置
- 百度AI: 使用原有配置
- 通义千问VL: API Key: sk-768522cdd6d741b68972ed9a9cc36e60

## 使用方法

1. 进入设置页面选择模型
2. 开启位置服务（可选）
3. 设置存储限制
4. 添加植物时选择照片，系统会根据选择的模型进行识别
5. 在详情页面拍照时，如果使用qwen-vl模型会自动进行健康分析
6. 查看健康分析历史记录

## 注意事项

1. 通义千问VL需要网络连接
2. 位置服务需要用户授权
3. 存储限制设置会影响现有数据
4. 健康分析功能仅在qwen-vl模型下可用
