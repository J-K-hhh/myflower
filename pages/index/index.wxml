<!--pages/index/index.wxml-->
<view class="container">
  <!-- èƒŒæ™¯å›¾ç‰‡ -->
  <image class="bg-image" src="/images/index-bg.png" mode="aspectFill"></image>
  
  <!-- å¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œæ˜¾ç¤ºæç¤ºä¿¡æ¯ -->
  <view wx:if="{{plantList.length === 0}}" class="empty-container">
    <view class="empty-icon">ğŸŒ±</view>
    <view class="empty-text">æ‚¨çš„é˜³å°èŠ±å›­è¿˜åœ¨ç­‰ç¬¬ä¸€æ ªå°ç»¿æ¤å‘¢</view>
    <view class="empty-tip">ç‚¹å‡»ä¸‹æ–¹çš„"+"æŒ‰é’®å¼€å§‹è®°å½•å§</view>
  </view>

  <!-- ç»¿æ¤åˆ—è¡¨ -->
  <view wx:else class="plant-list {{plantList.length === 1 ? 'single-plant' : (plantList.length === 2 ? 'two-plants' : 'multiple-plants')}}">
    <!-- åŠ¨æ€çŠ¶æ€å›¾æ ‡ -->
    <view class="status-icon-container">
      <view class="status-icon">{{statusIcon}}</view>
      <view class="status-text">{{statusText}}</view>
    </view>
    
    <view class="plant-card" wx:for="{{plantList}}" wx:key="id" data-id="{{item.id}}" bindtap="goToDetail">
      <image class="card-image" src="{{item.images[0]}}" mode="aspectFill"></image>
      <view class="card-content">
        <view class="card-title">{{item.aiResult.name || 'æœªçŸ¥æ¤ç‰©'}}</view>
        <view class="card-info">
          <view class="info-item" wx:if="{{item.lastWateringDate}}">
            <text class="info-icon">ğŸ’§</text>
            <text>{{item.lastWateringDate}}</text>
          </view>
          <view class="info-item" wx:if="{{item.lastFertilizingDate && !item.lastWateringDate}}">
            <text class="info-icon">ğŸŒ±</text>
            <text>{{item.lastFertilizingDate}}</text>
          </view>
          <view class="info-item" wx:if="{{!item.lastWateringDate && !item.lastFertilizingDate}}">
            <text class="info-icon">ğŸ“…</text>
            <text>{{item.createDate}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- æ·»åŠ æŒ‰é’® -->
  <view class="add-button" bindtap="goToAdd">
    <text class="add-icon">+</text>
  </view>

  <!-- è®¾ç½®æŒ‰é’® -->
  <view class="settings-button" bindtap="goToSettings">
    <text class="settings-icon">âš™ï¸</text>
  </view>
</view>
